{"ast":null,"code":"import _regeneratorRuntime from\"/Users/israeladelaja/Desktop/NFTAirdrop/client/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/israeladelaja/Desktop/NFTAirdrop/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"/Users/israeladelaja/Desktop/NFTAirdrop/client/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/israeladelaja/Desktop/NFTAirdrop/client/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/Users/israeladelaja/Desktop/NFTAirdrop/client/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/Users/israeladelaja/Desktop/NFTAirdrop/client/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/Users/israeladelaja/Desktop/NFTAirdrop/client/node_modules/@babel/runtime/helpers/esm/inherits\";import React from\"../node_modules/react\";import\"./App.css\";import\"./index.css\";import Main from\"./Main\";import Airdrop from\"./Airdrop\";import Navbar from\"./Navbar\";import MyNFTs from\"./MyNFTs\";import NFTAirdrop from\"./contracts/NFTAirdrop.json\";import getWeb3 from\"./getWeb3\";import{BrowserRouter as Router,Switch,Route}from'react-router-dom';/**\n * @App Build Decentralized Art Market using ERC-721\n * @Util initail App build main class\n * @Book Learn Ethereum\n * @author brian wu\n */var ipfsClient=require('ipfs-http-client');var ipfs=ipfsClient({host:'ipfs.infura.io',port:5001,protocol:'https'});// leaving out the arguments will default to these values\nvar App=/*#__PURE__*/function(_React$Component){_inherits(App,_React$Component);function App(){var _getPrototypeOf2;var _this;_classCallCheck(this,App);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_possibleConstructorReturn(this,(_getPrototypeOf2=_getPrototypeOf(App)).call.apply(_getPrototypeOf2,[this].concat(args)));_this.state={web3:null,account:\"\",networkId:null,airdropInstance:null,ipfs:null,nfts:[],airdropEnd:null,nftsA:null,nftsS:null};_this.componentDidMount=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var web3,account,networkId,deployedNetworkAirdrop,airdropInstance,nftsA,nftsS,price,airdropEnd,milliseconds,dateObject,nfts,exampleNfts;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return getWeb3();case 3:web3=_context.sent;_context.next=6;return window.ethereum.request({method:'eth_accounts'});case 6:account=_context.sent;account=account[0];// Get the contract instance.\n_context.next=10;return web3.eth.net.getId();case 10:networkId=_context.sent;deployedNetworkAirdrop=NFTAirdrop.networks[networkId];airdropInstance=new web3.eth.Contract(NFTAirdrop.abi,deployedNetworkAirdrop&&deployedNetworkAirdrop.address);_context.next=15;return airdropInstance.methods.nftsAirdrop().call();case 15:nftsA=_context.sent;_context.next=18;return airdropInstance.methods.nftsSale().call();case 18:nftsS=_context.sent;_context.next=21;return airdropInstance.methods.price().call();case 21:price=_context.sent;_context.next=24;return airdropInstance.methods.airdropEnd().call();case 24:airdropEnd=_context.sent;milliseconds=airdropEnd*1000;dateObject=new Date(milliseconds);airdropEnd=dateObject.toUTCString();_context.next=30;return airdropInstance.methods.allNfts().call();case 30:nfts=_context.sent;exampleNfts=[{},{},{}];_this.setState({web3:web3,account:account,networkId:networkId,airdropInstance:airdropInstance,ipfs:ipfs,nfts:nfts,airdropEnd:airdropEnd,nftsA:nftsA,nftsS:nftsS,exampleNfts:exampleNfts,price:price});_context.next=39;break;case 35:_context.prev=35;_context.t0=_context[\"catch\"](0);// Catch any errors for any of the above operations.\nalert(\"Please connect to the right chain.\");console.error(_context.t0);case 39:case\"end\":return _context.stop();}}},_callee,null,[[0,35]]);}));return _this;}_createClass(App,[{key:\"render\",value:function render(){return React.createElement(Router,null,React.createElement(Switch,null,React.createElement(\"div\",null,React.createElement(Navbar,{account:this.state.account}),React.createElement(Route,{exact:true,path:\"/\"},React.createElement(Main,{web3:this.state.web3,account:this.state.account,networkId:this.state.networkdId,airdropInstance:this.state.airdropInstance,ipfs:this.state.ipfs,nfts:this.state.nfts,airdropEnd:this.state.airdropEnd,nftsA:this.state.nftsA,nftsS:this.state.nftsS,price:this.state.price})),React.createElement(Route,{exact:true,path:\"/airdrop\"},React.createElement(Airdrop,{web3:this.state.web3,account:this.state.account,networkId:this.state.networkdId,airdropInstance:this.state.airdropInstance,ipfs:this.state.ipfs,nfts:this.state.nfts,airdropEnd:this.state.airdropEnd,nftsA:this.state.nftsA,nftsS:this.state.nftsS,price:this.state.price})),React.createElement(Route,{exact:true,path:\"/mynfts\"},React.createElement(MyNFTs,{web3:this.state.web3,account:this.state.account,networkId:this.state.networkdId,airdropInstance:this.state.airdropInstance,ipfs:this.state.ipfs,nfts:this.state.nfts,airdropEnd:this.state.airdropEnd,nftsA:this.state.nftsA,nftsS:this.state.nftsS,price:this.state.price})))));}}]);return App;}(React.Component);export default App;","map":{"version":3,"sources":["/Users/israeladelaja/Desktop/NFTAirdrop/client/src/App.js"],"names":["React","Main","Airdrop","Navbar","MyNFTs","NFTAirdrop","getWeb3","BrowserRouter","Router","Switch","Route","ipfsClient","require","ipfs","host","port","protocol","App","state","web3","account","networkId","airdropInstance","nfts","airdropEnd","nftsA","nftsS","componentDidMount","window","ethereum","request","method","eth","net","getId","deployedNetworkAirdrop","networks","Contract","abi","address","methods","nftsAirdrop","call","nftsSale","price","milliseconds","dateObject","Date","toUTCString","allNfts","exampleNfts","setState","alert","console","error","networkdId","Component"],"mappings":"k5BAAA,MAAOA,CAAAA,KAAP,KAAkB,uBAAlB,CACA,MAAO,WAAP,CACA,MAAO,aAAP,CACA,MAAOC,CAAAA,IAAP,KAAiB,QAAjB,CACA,MAAOC,CAAAA,OAAP,KAAoB,WAApB,CACA,MAAOC,CAAAA,MAAP,KAAmB,UAAnB,CACA,MAAOC,CAAAA,MAAP,KAAmB,UAAnB,CACA,MAAOC,CAAAA,UAAP,KAAuB,6BAAvB,CACA,MAAOC,CAAAA,OAAP,KAAoB,WAApB,CACA,OAASC,aAAa,GAAIC,CAAAA,MAA1B,CAAkCC,MAAlC,CAA0CC,KAA1C,KAAuD,kBAAvD,CACA;;;;;GAMA,GAAMC,CAAAA,UAAU,CAAGC,OAAO,CAAC,kBAAD,CAA1B,CACA,GAAMC,CAAAA,IAAI,CAAGF,UAAU,CAAC,CAAEG,IAAI,CAAE,gBAAR,CAA0BC,IAAI,CAAE,IAAhC,CAAsCC,QAAQ,CAAE,OAAhD,CAAD,CAAvB,CAAmF;GAE7EC,CAAAA,G,+XAEJC,K,CAAQ,CAAEC,IAAI,CAAE,IAAR,CAAcC,OAAO,CAAE,EAAvB,CAA2BC,SAAS,CAAE,IAAtC,CAA4CC,eAAe,CAAE,IAA7D,CAAmET,IAAI,CAAE,IAAzE,CAA+EU,IAAI,CAAE,EAArF,CAAyFC,UAAU,CAAE,IAArG,CAA2GC,KAAK,CAAE,IAAlH,CAAwHC,KAAK,CAAE,IAA/H,C,OAERC,iB,sEAAoB,iTAGGrB,CAAAA,OAAO,EAHV,QAGVa,IAHU,qCAMIS,CAAAA,MAAM,CAACC,QAAP,CAAgBC,OAAhB,CAAwB,CAAEC,MAAM,CAAE,cAAV,CAAxB,CANJ,QAMZX,OANY,eAOhBA,OAAO,CAAGA,OAAO,CAAC,CAAD,CAAjB,CAEA;AATgB,uBAUQD,CAAAA,IAAI,CAACa,GAAL,CAASC,GAAT,CAAaC,KAAb,EAVR,SAUVb,SAVU,eAWVc,sBAXU,CAWe9B,UAAU,CAAC+B,QAAX,CAAoBf,SAApB,CAXf,CAYVC,eAZU,CAYQ,GAAIH,CAAAA,IAAI,CAACa,GAAL,CAASK,QAAb,CACtBhC,UAAU,CAACiC,GADW,CAEtBH,sBAAsB,EAAIA,sBAAsB,CAACI,OAF3B,CAZR,wBAiBEjB,CAAAA,eAAe,CAACkB,OAAhB,CAAwBC,WAAxB,GAAsCC,IAAtC,EAjBF,SAiBZjB,KAjBY,sCAkBEH,CAAAA,eAAe,CAACkB,OAAhB,CAAwBG,QAAxB,GAAmCD,IAAnC,EAlBF,SAkBZhB,KAlBY,sCAmBIJ,CAAAA,eAAe,CAACkB,OAAhB,CAAwBI,KAAxB,GAAgCF,IAAhC,EAnBJ,SAmBVE,KAnBU,sCAqBOtB,CAAAA,eAAe,CAACkB,OAAhB,CAAwBhB,UAAxB,GAAqCkB,IAArC,EArBP,SAqBZlB,UArBY,eAuBVqB,YAvBU,CAuBKrB,UAAU,CAAG,IAvBlB,CAyBVsB,UAzBU,CAyBG,GAAIC,CAAAA,IAAJ,CAASF,YAAT,CAzBH,CA2BhBrB,UAAU,CAAGsB,UAAU,CAACE,WAAX,EAAb,CA3BgB,uBA6BC1B,CAAAA,eAAe,CAACkB,OAAhB,CAAwBS,OAAxB,GAAkCP,IAAlC,EA7BD,SA6BZnB,IA7BY,eA8BZ2B,WA9BY,CA8BE,CAAC,EAAD,CAAK,EAAL,CAAS,EAAT,CA9BF,CAgChB,MAAKC,QAAL,CAAc,CAAEhC,IAAI,CAAJA,IAAF,CAAQC,OAAO,CAAPA,OAAR,CAAiBC,SAAS,CAATA,SAAjB,CAA4BC,eAAe,CAAfA,eAA5B,CAA6CT,IAAI,CAAJA,IAA7C,CAAmDU,IAAI,CAAJA,IAAnD,CAAyDC,UAAU,CAAVA,UAAzD,CAAqEC,KAAK,CAALA,KAArE,CAA4EC,KAAK,CAALA,KAA5E,CAAmFwB,WAAW,CAAXA,WAAnF,CAAgGN,KAAK,CAALA,KAAhG,CAAd,EAhCgB,iFAmChB;AACAQ,KAAK,sCAAL,CAGAC,OAAO,CAACC,KAAR,cAvCgB,qE,wEA4CX,CACP,MACE,qBAAC,MAAD,MACE,oBAAC,MAAD,MACE,+BACE,oBAAC,MAAD,EAAQ,OAAO,CAAE,KAAKpC,KAAL,CAAWE,OAA5B,EADF,CAEE,oBAAC,KAAD,EAAO,KAAK,KAAZ,CAAa,IAAI,CAAC,GAAlB,EACI,oBAAC,IAAD,EAAM,IAAI,CAAE,KAAKF,KAAL,CAAWC,IAAvB,CAA6B,OAAO,CAAE,KAAKD,KAAL,CAAWE,OAAjD,CAA0D,SAAS,CAAE,KAAKF,KAAL,CAAWqC,UAAhF,CAA4F,eAAe,CAAE,KAAKrC,KAAL,CAAWI,eAAxH,CAAyI,IAAI,CAAE,KAAKJ,KAAL,CAAWL,IAA1J,CAAgK,IAAI,CAAE,KAAKK,KAAL,CAAWK,IAAjL,CAAuL,UAAU,CAAE,KAAKL,KAAL,CAAWM,UAA9M,CAA0N,KAAK,CAAE,KAAKN,KAAL,CAAWO,KAA5O,CAAmP,KAAK,CAAE,KAAKP,KAAL,CAAWQ,KAArQ,CAA4Q,KAAK,CAAE,KAAKR,KAAL,CAAW0B,KAA9R,EADJ,CAFF,CAKE,oBAAC,KAAD,EAAO,KAAK,KAAZ,CAAa,IAAI,CAAC,UAAlB,EACI,oBAAC,OAAD,EAAS,IAAI,CAAE,KAAK1B,KAAL,CAAWC,IAA1B,CAAgC,OAAO,CAAE,KAAKD,KAAL,CAAWE,OAApD,CAA6D,SAAS,CAAE,KAAKF,KAAL,CAAWqC,UAAnF,CAA+F,eAAe,CAAE,KAAKrC,KAAL,CAAWI,eAA3H,CAA4I,IAAI,CAAE,KAAKJ,KAAL,CAAWL,IAA7J,CAAmK,IAAI,CAAE,KAAKK,KAAL,CAAWK,IAApL,CAA0L,UAAU,CAAE,KAAKL,KAAL,CAAWM,UAAjN,CAA6N,KAAK,CAAE,KAAKN,KAAL,CAAWO,KAA/O,CAAsP,KAAK,CAAE,KAAKP,KAAL,CAAWQ,KAAxQ,CAA+Q,KAAK,CAAE,KAAKR,KAAL,CAAW0B,KAAjS,EADJ,CALF,CAQE,oBAAC,KAAD,EAAO,KAAK,KAAZ,CAAa,IAAI,CAAC,SAAlB,EACI,oBAAC,MAAD,EAAQ,IAAI,CAAE,KAAK1B,KAAL,CAAWC,IAAzB,CAA+B,OAAO,CAAE,KAAKD,KAAL,CAAWE,OAAnD,CAA4D,SAAS,CAAE,KAAKF,KAAL,CAAWqC,UAAlF,CAA8F,eAAe,CAAE,KAAKrC,KAAL,CAAWI,eAA1H,CAA2I,IAAI,CAAE,KAAKJ,KAAL,CAAWL,IAA5J,CAAkK,IAAI,CAAE,KAAKK,KAAL,CAAWK,IAAnL,CAAyL,UAAU,CAAE,KAAKL,KAAL,CAAWM,UAAhN,CAA4N,KAAK,CAAE,KAAKN,KAAL,CAAWO,KAA9O,CAAqP,KAAK,CAAE,KAAKP,KAAL,CAAWQ,KAAvQ,CAA8Q,KAAK,CAAE,KAAKR,KAAL,CAAW0B,KAAhS,EADJ,CARF,CADF,CADF,CADF,CAkBD,C,iBAnEe5C,KAAK,CAACwD,S,EAqExB,cAAevC,CAAAA,GAAf","sourcesContent":["import React from \"../node_modules/react\";\nimport \"./App.css\";\nimport \"./index.css\";\nimport Main from \"./Main\";\nimport Airdrop from \"./Airdrop\";\nimport Navbar from \"./Navbar\";\nimport MyNFTs from \"./MyNFTs\";\nimport NFTAirdrop from \"./contracts/NFTAirdrop.json\";\nimport getWeb3 from \"./getWeb3\";\nimport { BrowserRouter as Router, Switch, Route } from 'react-router-dom';\n/**\n * @App Build Decentralized Art Market using ERC-721\n * @Util initail App build main class\n * @Book Learn Ethereum\n * @author brian wu\n */\nconst ipfsClient = require('ipfs-http-client')\nconst ipfs = ipfsClient({ host: 'ipfs.infura.io', port: 5001, protocol: 'https' }) // leaving out the arguments will default to these values\n\nclass App extends React.Component {\n\n  state = { web3: null, account: \"\", networkId: null, airdropInstance: null, ipfs: null, nfts: [], airdropEnd: null, nftsA: null, nftsS: null }\n\n  componentDidMount = async () => {\n    try {\n      // Get network provider and web3 instance.\n      const web3 = await getWeb3();\n\n      // Use web3 to get the user's accounts.\n      let account = await window.ethereum.request({ method: 'eth_accounts' });\n      account = account[0];\n\n      // Get the contract instance.\n      const networkId = await web3.eth.net.getId();\n      const deployedNetworkAirdrop = NFTAirdrop.networks[networkId];\n      const airdropInstance = new web3.eth.Contract(\n        NFTAirdrop.abi,\n        deployedNetworkAirdrop && deployedNetworkAirdrop.address,\n      );\n\n      let nftsA = await airdropInstance.methods.nftsAirdrop().call();\n      let nftsS = await airdropInstance.methods.nftsSale().call();\n      const price = await airdropInstance.methods.price().call()\n\n      let airdropEnd = await airdropInstance.methods.airdropEnd().call();\n\n      const milliseconds = airdropEnd * 1000\n\n      const dateObject = new Date(milliseconds)\n\n      airdropEnd = dateObject.toUTCString()\n\n      let nfts = await airdropInstance.methods.allNfts().call();\n      let exampleNfts = [{}, {}, {}]\n\n      this.setState({ web3, account, networkId, airdropInstance, ipfs, nfts, airdropEnd, nftsA, nftsS, exampleNfts, price })\n\n    } catch (error) {\n      // Catch any errors for any of the above operations.\n      alert(\n        `Please connect to the right chain.`,\n      );\n      console.error(error)\n\n    }\n  }\n\n  render() {\n    return (\n      <Router>\n        <Switch>\n          <div>\n            <Navbar account={this.state.account}/>\n            <Route exact path='/'>\n                <Main web3={this.state.web3} account={this.state.account} networkId={this.state.networkdId} airdropInstance={this.state.airdropInstance} ipfs={this.state.ipfs} nfts={this.state.nfts} airdropEnd={this.state.airdropEnd} nftsA={this.state.nftsA} nftsS={this.state.nftsS} price={this.state.price}/>\n            </Route>\n            <Route exact path='/airdrop'>\n                <Airdrop web3={this.state.web3} account={this.state.account} networkId={this.state.networkdId} airdropInstance={this.state.airdropInstance} ipfs={this.state.ipfs} nfts={this.state.nfts} airdropEnd={this.state.airdropEnd} nftsA={this.state.nftsA} nftsS={this.state.nftsS} price={this.state.price}/>\n            </Route>\n            <Route exact path='/mynfts'>\n                <MyNFTs web3={this.state.web3} account={this.state.account} networkId={this.state.networkdId} airdropInstance={this.state.airdropInstance} ipfs={this.state.ipfs} nfts={this.state.nfts} airdropEnd={this.state.airdropEnd} nftsA={this.state.nftsA} nftsS={this.state.nftsS} price={this.state.price}/>\n            </Route>\n          </div>\n        </Switch>\n      </Router>\n    );\n  }\n}\nexport default App;"]},"metadata":{},"sourceType":"module"}