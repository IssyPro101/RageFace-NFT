{"ast":null,"code":"import _regeneratorRuntime from\"/Users/israeladelaja/Desktop/NFTAirdrop/client/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/israeladelaja/Desktop/NFTAirdrop/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"/Users/israeladelaja/Desktop/NFTAirdrop/client/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/israeladelaja/Desktop/NFTAirdrop/client/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/Users/israeladelaja/Desktop/NFTAirdrop/client/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/Users/israeladelaja/Desktop/NFTAirdrop/client/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/Users/israeladelaja/Desktop/NFTAirdrop/client/node_modules/@babel/runtime/helpers/esm/inherits\";import React,{Component}from\"react\";import\"./App.css\";var Main=/*#__PURE__*/function(_Component){_inherits(Main,_Component);function Main(){var _getPrototypeOf2;var _this;_classCallCheck(this,Main);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_possibleConstructorReturn(this,(_getPrototypeOf2=_getPrototypeOf(Main)).call.apply(_getPrototypeOf2,[this].concat(args)));_this.state={};_this.componentDidMount=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_this.images=[\"QmZoV3cFySq57pckUHHGvVk42VimhCvUH4tyNsUTgTEcYD\",\"QmUnbEDDCM2LqRGLdTq4KgP3QCqfAQkkrezoAMGongagLe\",\"QmWfHV3gpWsAc5arTXjvQ7NmZskqYwT2j4vCQSCWvzZFpA\"];case 1:case\"end\":return _context.stop();}}},_callee);}));_this.buyNft=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var min,max,imageIndex,randomImage;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:min=Math.ceil(0);max=Math.floor(_this.images.length);imageIndex=Math.floor(Math.random()*(max-min)+min);randomImage=_this.images[imageIndex];document.querySelector('#sair').innerHTML='Buying...';_context2.prev=5;_context2.next=8;return _this.props.airdropInstance.methods.mint(1,\"CryptoPunk#\"+_this.props.nfts.length,randomImage).send({from:_this.props.account,value:_this.props.price});case 8:document.querySelector('#sair').innerHTML='Succesfully Bought';window.location.replace(\"/mynfts\");_context2.next=16;break;case 12:_context2.prev=12;_context2.t0=_context2[\"catch\"](5);alert(\"Transaction Rejected\");document.querySelector('#sair').innerHTML='Buy';case 16:case\"end\":return _context2.stop();}}},_callee2,null,[[5,12]]);}));return _this;}_createClass(Main,[{key:\"render\",value:function render(){var _this2=this;return React.createElement(\"div\",{className:\"App\"},React.createElement(\"h1\",null,\"Sale\"),React.createElement(\"p\",{class:\"nft-info\"},\"Mint tokens from our sale! Every NFT has a price of \",this.props.price/Math.pow(10,18),\" ether.\"),React.createElement(\"p\",{class:\"nft-info\"},\"NFTs can only be bought from \",this.props.airdropStart,\" to \",this.props.airdropEnd),React.createElement(\"p\",{class:\"nft-info\"},\"Number of NFTs left to buy: \",this.props.maxSale-this.props.nftsS),React.createElement(\"button\",{id:\"sair\",class:\"mint\",onClick:function onClick(){return _this2.buyNft();}},\"Buy\"),React.createElement(\"div\",{class:\"nfts\"},React.createElement(\"div\",{class:\"nft\"},React.createElement(\"div\",{class:\"white-box\"},React.createElement(\"h2\",null,\"CryptoPunk\"),React.createElement(\"img\",{class:\"ipfs-image\",src:\"https://ipfs.infura.io/ipfs/QmZoV3cFySq57pckUHHGvVk42VimhCvUH4tyNsUTgTEcYD\",alt:\"IPFS Upload\"}),React.createElement(\"p\",{class:\"nft-info\",id:\"desc\"},\"A cool cryptopunk\"))),React.createElement(\"div\",{class:\"nft\"},React.createElement(\"div\",{class:\"white-box\"},React.createElement(\"h2\",null,\"CryptoPunk\"),React.createElement(\"img\",{class:\"ipfs-image\",src:\"https://ipfs.infura.io/ipfs/QmUnbEDDCM2LqRGLdTq4KgP3QCqfAQkkrezoAMGongagLe\",alt:\"IPFS Upload\"}),React.createElement(\"p\",{class:\"nft-info\",id:\"desc\"},\"A cool cryptopunk\"))),React.createElement(\"div\",{class:\"nft\"},React.createElement(\"div\",{class:\"white-box\"},React.createElement(\"h2\",null,\"CryptoPunk\"),React.createElement(\"img\",{class:\"ipfs-image\",src:\"https://ipfs.infura.io/ipfs/QmWfHV3gpWsAc5arTXjvQ7NmZskqYwT2j4vCQSCWvzZFpA\",alt:\"IPFS Upload\"}),React.createElement(\"p\",{class:\"nft-info\",id:\"desc\"},\"A cool cryptopunk\")))));}}]);return Main;}(Component);export default Main;","map":{"version":3,"sources":["/Users/israeladelaja/Desktop/NFTAirdrop/client/src/Main.js"],"names":["React","Component","Main","state","componentDidMount","images","buyNft","min","Math","ceil","max","floor","length","imageIndex","random","randomImage","document","querySelector","innerHTML","props","airdropInstance","methods","mint","nfts","send","from","account","value","price","window","location","replace","alert","airdropStart","airdropEnd","maxSale","nftsS"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\n\nimport \"./App.css\";\n\n\nclass Main extends Component {\n\n  state = {};\n\n\n\n  componentDidMount = async () => {\n    this.images = [\"QmZoV3cFySq57pckUHHGvVk42VimhCvUH4tyNsUTgTEcYD\", \n              \"QmUnbEDDCM2LqRGLdTq4KgP3QCqfAQkkrezoAMGongagLe\", \n              \"QmWfHV3gpWsAc5arTXjvQ7NmZskqYwT2j4vCQSCWvzZFpA\"]\n  };\n\n  buyNft = async () => {\n    let min = Math.ceil(0);\n    let max = Math.floor(this.images.length);\n    let imageIndex = Math.floor(Math.random() * (max - min) + min);\n    let randomImage = this.images[imageIndex]\n    document.querySelector('#sair').innerHTML = 'Buying...';\n    try {\n      await this.props.airdropInstance.methods.mint(1, \"CryptoPunk#\"+this.props.nfts.length, randomImage).send({from: this.props.account, value: this.props.price});\n      document.querySelector('#sair').innerHTML = 'Succesfully Bought';\n      window.location.replace(\"/mynfts\")\n    } catch (error) {\n      alert(\"Transaction Rejected\")\n      document.querySelector('#sair').innerHTML = 'Buy';\n    }\n  }\n\n  render() {\n      return (\n        <div className=\"App\">\n          <h1>Sale</h1>\n          <p class=\"nft-info\">Mint tokens from our sale! Every NFT has a price of {this.props.price/10**18} ether.</p>\n          <p class=\"nft-info\">NFTs can only be bought from {this.props.airdropStart} to {this.props.airdropEnd}</p>\n          <p class=\"nft-info\">Number of NFTs left to buy: {this.props.maxSale - this.props.nftsS}</p>\n          <button id=\"sair\" class=\"mint\" onClick={() => this.buyNft()}>Buy</button>\n          <div class=\"nfts\">\n                <div class=\"nft\">\n                  <div class=\"white-box\">\n                    <h2>CryptoPunk</h2>\n                    <img class=\"ipfs-image\" src={`https://ipfs.infura.io/ipfs/QmZoV3cFySq57pckUHHGvVk42VimhCvUH4tyNsUTgTEcYD`} alt=\"IPFS Upload\"/>\n                    <p class=\"nft-info\" id=\"desc\">A cool cryptopunk</p>\n                  </div>\n                </div>\n                <div class=\"nft\">\n                    <div class=\"white-box\">\n                      <h2>CryptoPunk</h2>\n                      <img class=\"ipfs-image\" src={`https://ipfs.infura.io/ipfs/QmUnbEDDCM2LqRGLdTq4KgP3QCqfAQkkrezoAMGongagLe`} alt=\"IPFS Upload\"/>\n                      <p class=\"nft-info\" id=\"desc\">A cool cryptopunk</p>\n                    </div>\n                  </div>\n                  <div class=\"nft\">\n                    <div class=\"white-box\">\n                      <h2>CryptoPunk</h2>\n                      <img class=\"ipfs-image\" src={`https://ipfs.infura.io/ipfs/QmWfHV3gpWsAc5arTXjvQ7NmZskqYwT2j4vCQSCWvzZFpA`} alt=\"IPFS Upload\"/>\n                      <p class=\"nft-info\" id=\"desc\">A cool cryptopunk</p>\n                    </div>\n                  </div>\n          </div>\n        </div>\n      );\n  }\n}\n\nexport default Main;\n"]},"metadata":{},"sourceType":"module"}