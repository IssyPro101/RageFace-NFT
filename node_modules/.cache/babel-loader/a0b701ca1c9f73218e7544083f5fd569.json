{"ast":null,"code":"var _jsxFileName = \"/Users/israeladelaja/Desktop/NFTAirdrop/client/src/App.js\";\nimport React from \"../node_modules/react\";\nimport \"./App.css\";\nimport \"./index.css\";\nimport Main from \"./Main\";\nimport Airdrop from \"./Airdrop\";\nimport Navbar from \"./Navbar\";\nimport MyNFTs from \"./MyNFTs\";\nimport NFTAirdrop from \"./contracts/NFTAirdrop.json\";\nimport getWeb3 from \"./getWeb3\";\nimport { BrowserRouter as Router, Switch, Route } from 'react-router-dom';\n/**\n * @App Build Decentralized Art Market using ERC-721\n * @Util initail App build main class\n * @Book Learn Ethereum\n * @author brian wu\n */\n\nconst ipfsClient = require('ipfs-http-client');\n\nconst ipfs = ipfsClient({\n  host: 'ipfs.infura.io',\n  port: 5001,\n  protocol: 'https'\n}); // leaving out the arguments will default to these values\n\nclass App extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      web3: null,\n      account: \"\",\n      networkId: null,\n      airdropInstance: null,\n      ipfs: null,\n      nfts: [],\n      airdropEnd: null,\n      nftsA: null,\n      nftsS: null\n    };\n\n    this.componentDidMount = async () => {\n      try {\n        // Get network provider and web3 instance.\n        const web3 = await getWeb3(); // Use web3 to get the user's accounts.\n\n        let account = await window.ethereum.request({\n          method: 'eth_accounts'\n        });\n        account = account[0]; // Get the contract instance.\n\n        const networkId = await web3.eth.net.getId();\n        const deployedNetworkAirdrop = NFTAirdrop.networks[networkId];\n        const airdropInstance = new web3.eth.Contract(NFTAirdrop.abi, deployedNetworkAirdrop && deployedNetworkAirdrop.address);\n        let nftsA = await airdropInstance.methods.nftsAirdrop().call();\n        let nftsS = await airdropInstance.methods.nftsSale().call();\n        const price = await airdropInstance.methods.price().call();\n        let airdropEnd = await airdropInstance.methods.airdropEnd().call();\n        const milliseconds = airdropEnd * 1000;\n        const dateObject = new Date(milliseconds);\n        airdropEnd = dateObject.toUTCString();\n        let nfts = await airdropInstance.methods.allNfts().call();\n        let exampleNfts = [{}, {}, {}];\n        this.setState({\n          web3,\n          account,\n          networkId,\n          airdropInstance,\n          ipfs,\n          nfts,\n          airdropEnd,\n          nftsA,\n          nftsS,\n          exampleNfts,\n          price\n        });\n      } catch (error) {\n        // Catch any errors for any of the above operations.\n        alert(\"Please connect to the right chain.\");\n        console.error(error);\n      }\n    };\n  }\n\n  render() {\n    return React.createElement(Router, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70\n      },\n      __self: this\n    }, React.createElement(Switch, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72\n      },\n      __self: this\n    }, React.createElement(Navbar, {\n      account: this.state.account,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73\n      },\n      __self: this\n    }), React.createElement(Route, {\n      exact: true,\n      path: \"/\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74\n      },\n      __self: this\n    }, React.createElement(Main, {\n      web3: this.state.web3,\n      account: this.state.account,\n      networkId: this.state.networkdId,\n      airdropInstance: this.state.airdropInstance,\n      ipfs: this.state.ipfs,\n      nfts: this.state.nfts,\n      airdropEnd: this.state.airdropEnd,\n      nftsA: this.state.nftsA,\n      nftsS: this.state.nftsS,\n      price: this.state.price,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75\n      },\n      __self: this\n    })), React.createElement(Route, {\n      exact: true,\n      path: \"/airdrop\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77\n      },\n      __self: this\n    }, React.createElement(Airdrop, {\n      web3: this.state.web3,\n      account: this.state.account,\n      networkId: this.state.networkdId,\n      airdropInstance: this.state.airdropInstance,\n      ipfs: this.state.ipfs,\n      nfts: this.state.nfts,\n      airdropEnd: this.state.airdropEnd,\n      nftsA: this.state.nftsA,\n      nftsS: this.state.nftsS,\n      price: this.state.price,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78\n      },\n      __self: this\n    })), React.createElement(Route, {\n      exact: true,\n      path: \"/mynfts\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80\n      },\n      __self: this\n    }, React.createElement(MyNFTs, {\n      web3: this.state.web3,\n      account: this.state.account,\n      networkId: this.state.networkdId,\n      airdropInstance: this.state.airdropInstance,\n      ipfs: this.state.ipfs,\n      nfts: this.state.nfts,\n      airdropEnd: this.state.airdropEnd,\n      nftsA: this.state.nftsA,\n      nftsS: this.state.nftsS,\n      price: this.state.price,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81\n      },\n      __self: this\n    })))));\n  }\n\n}\n\nexport default App;","map":{"version":3,"sources":["/Users/israeladelaja/Desktop/NFTAirdrop/client/src/App.js"],"names":["React","Main","Airdrop","Navbar","MyNFTs","NFTAirdrop","getWeb3","BrowserRouter","Router","Switch","Route","ipfsClient","require","ipfs","host","port","protocol","App","Component","state","web3","account","networkId","airdropInstance","nfts","airdropEnd","nftsA","nftsS","componentDidMount","window","ethereum","request","method","eth","net","getId","deployedNetworkAirdrop","networks","Contract","abi","address","methods","nftsAirdrop","call","nftsSale","price","milliseconds","dateObject","Date","toUTCString","allNfts","exampleNfts","setState","error","alert","console","render","networkdId"],"mappings":"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","sourcesContent":["import React from \"../node_modules/react\";\nimport \"./App.css\";\nimport \"./index.css\";\nimport Main from \"./Main\";\nimport Airdrop from \"./Airdrop\";\nimport Navbar from \"./Navbar\";\nimport MyNFTs from \"./MyNFTs\";\nimport NFTAirdrop from \"./contracts/NFTAirdrop.json\";\nimport getWeb3 from \"./getWeb3\";\nimport { BrowserRouter as Router, Switch, Route } from 'react-router-dom';\n/**\n * @App Build Decentralized Art Market using ERC-721\n * @Util initail App build main class\n * @Book Learn Ethereum\n * @author brian wu\n */\nconst ipfsClient = require('ipfs-http-client')\nconst ipfs = ipfsClient({ host: 'ipfs.infura.io', port: 5001, protocol: 'https' }) // leaving out the arguments will default to these values\n\nclass App extends React.Component {\n\n  state = { web3: null, account: \"\", networkId: null, airdropInstance: null, ipfs: null, nfts: [], airdropEnd: null, nftsA: null, nftsS: null }\n\n  componentDidMount = async () => {\n    try {\n      // Get network provider and web3 instance.\n      const web3 = await getWeb3();\n\n      // Use web3 to get the user's accounts.\n      let account = await window.ethereum.request({ method: 'eth_accounts' });\n      account = account[0];\n\n      // Get the contract instance.\n      const networkId = await web3.eth.net.getId();\n      const deployedNetworkAirdrop = NFTAirdrop.networks[networkId];\n      const airdropInstance = new web3.eth.Contract(\n        NFTAirdrop.abi,\n        deployedNetworkAirdrop && deployedNetworkAirdrop.address,\n      );\n\n      let nftsA = await airdropInstance.methods.nftsAirdrop().call();\n      let nftsS = await airdropInstance.methods.nftsSale().call();\n      const price = await airdropInstance.methods.price().call()\n\n      let airdropEnd = await airdropInstance.methods.airdropEnd().call();\n\n      const milliseconds = airdropEnd * 1000\n\n      const dateObject = new Date(milliseconds)\n\n      airdropEnd = dateObject.toUTCString()\n\n      let nfts = await airdropInstance.methods.allNfts().call();\n      let exampleNfts = [{}, {}, {}]\n\n      this.setState({ web3, account, networkId, airdropInstance, ipfs, nfts, airdropEnd, nftsA, nftsS, exampleNfts, price })\n\n    } catch (error) {\n      // Catch any errors for any of the above operations.\n      alert(\n        `Please connect to the right chain.`,\n      );\n      console.error(error)\n\n    }\n  }\n\n  render() {\n    return (\n      <Router>\n        <Switch>\n          <div>\n            <Navbar account={this.state.account}/>\n            <Route exact path='/'>\n                <Main web3={this.state.web3} account={this.state.account} networkId={this.state.networkdId} airdropInstance={this.state.airdropInstance} ipfs={this.state.ipfs} nfts={this.state.nfts} airdropEnd={this.state.airdropEnd} nftsA={this.state.nftsA} nftsS={this.state.nftsS} price={this.state.price}/>\n            </Route>\n            <Route exact path='/airdrop'>\n                <Airdrop web3={this.state.web3} account={this.state.account} networkId={this.state.networkdId} airdropInstance={this.state.airdropInstance} ipfs={this.state.ipfs} nfts={this.state.nfts} airdropEnd={this.state.airdropEnd} nftsA={this.state.nftsA} nftsS={this.state.nftsS} price={this.state.price}/>\n            </Route>\n            <Route exact path='/mynfts'>\n                <MyNFTs web3={this.state.web3} account={this.state.account} networkId={this.state.networkdId} airdropInstance={this.state.airdropInstance} ipfs={this.state.ipfs} nfts={this.state.nfts} airdropEnd={this.state.airdropEnd} nftsA={this.state.nftsA} nftsS={this.state.nftsS} price={this.state.price}/>\n            </Route>\n          </div>\n        </Switch>\n      </Router>\n    );\n  }\n}\nexport default App;"]},"metadata":{},"sourceType":"module"}