{"ast":null,"code":"import _regeneratorRuntime from\"/Users/israeladelaja/Desktop/NFTAirdrop/client/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/israeladelaja/Desktop/NFTAirdrop/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"/Users/israeladelaja/Desktop/NFTAirdrop/client/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/israeladelaja/Desktop/NFTAirdrop/client/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/Users/israeladelaja/Desktop/NFTAirdrop/client/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/Users/israeladelaja/Desktop/NFTAirdrop/client/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/Users/israeladelaja/Desktop/NFTAirdrop/client/node_modules/@babel/runtime/helpers/esm/inherits\";import React from\"../node_modules/react\";import\"./App.css\";import\"./index.css\";import Main from\"./Main\";import Airdrop from\"./Airdrop\";import Navbar from\"./Navbar\";import MyNFTs from\"./MyNFTs\";import NFTAirdrop from\"./contracts/NFTAirdrop.json\";import getWeb3 from\"./getWeb3\";import{BrowserRouter as Router,Switch,Route}from'react-router-dom';/**\n * @App Build Decentralized Art Market using ERC-721\n * @Util initail App build main class\n * @Book Learn Ethereum\n * @author brian wu\n */var ipfsClient=require('ipfs-http-client');var ipfs=ipfsClient({host:'ipfs.infura.io',port:5001,protocol:'https'});// leaving out the arguments will default to these values\nvar App=/*#__PURE__*/function(_React$Component){_inherits(App,_React$Component);function App(){var _getPrototypeOf2;var _this;_classCallCheck(this,App);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_possibleConstructorReturn(this,(_getPrototypeOf2=_getPrototypeOf(App)).call.apply(_getPrototypeOf2,[this].concat(args)));_this.state={web3:null,account:\"\",networkId:null,airdropInstance:null,ipfs:null,nfts:[],airdropEnd:null,nftsA:null,nftsS:null,loading:true};_this.componentDidMount=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var web3,account,networkId,deployedNetworkAirdrop,airdropInstance,nftsA,nftsS,price,airdropEnd,airdropStart,millisecondsEnd,dateObjectEnd,millisecondsStart,dateObjectStart,nfts,maxAirdrop,maxSale;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return getWeb3();case 3:web3=_context.sent;_context.next=6;return window.ethereum.request({method:'eth_accounts'});case 6:account=_context.sent;account=account[0];// Get the contract instance.\n_context.next=10;return web3.eth.net.getId();case 10:networkId=_context.sent;deployedNetworkAirdrop=NFTAirdrop.networks[networkId];airdropInstance=new web3.eth.Contract(NFTAirdrop.abi,deployedNetworkAirdrop&&deployedNetworkAirdrop.address);_context.next=15;return airdropInstance.methods.nftsAirdrop().call();case 15:nftsA=_context.sent;_context.next=18;return airdropInstance.methods.nftsSale().call();case 18:nftsS=_context.sent;_context.next=21;return airdropInstance.methods.price().call();case 21:price=_context.sent;_context.next=24;return airdropInstance.methods.airdropEnd().call();case 24:airdropEnd=_context.sent;_context.next=27;return airdropInstance.methods.airdropStart().call();case 27:airdropStart=_context.sent;millisecondsEnd=airdropEnd*1000;dateObjectEnd=new Date(millisecondsEnd);millisecondsStart=airdropStart*1000;dateObjectStart=new Date(millisecondsStart);airdropStart=dateObjectStart.toUTCString();airdropEnd=dateObjectEnd.toUTCString();_context.next=36;return airdropInstance.methods.allNfts().call();case 36:nfts=_context.sent;_context.next=39;return airdropInstance.methods.MAX_AIRDROP_TOKENS().call();case 39:maxAirdrop=_context.sent;_context.next=42;return airdropInstance.methods.MAX_SALE_TOKENS().call();case 42:maxSale=_context.sent;_this.setState({web3:web3,account:account,networkId:networkId,airdropInstance:airdropInstance,ipfs:ipfs,nfts:nfts,airdropEnd:airdropEnd,airdropStart:airdropStart,nftsA:nftsA,nftsS:nftsS,price:price,loading:false,maxAirdrop:maxAirdrop,maxSale:maxSale});_context.next=50;break;case 46:_context.prev=46;_context.t0=_context[\"catch\"](0);// Catch any errors for any of the above operations.\nalert(\"Please connect to the right chain.\");console.error(_context.t0);case 50:case\"end\":return _context.stop();}}},_callee,null,[[0,46]]);}));return _this;}_createClass(App,[{key:\"render\",value:function render(){if(!this.state.loading){return React.createElement(Router,null,React.createElement(Switch,null,React.createElement(\"div\",null,React.createElement(Navbar,{account:this.state.account}),React.createElement(Route,{exact:true,path:\"/\"},React.createElement(Main,{web3:this.state.web3,account:this.state.account,networkId:this.state.networkdId,airdropInstance:this.state.airdropInstance,ipfs:this.state.ipfs,nfts:this.state.nfts,airdropEnd:this.state.airdropEnd,airdropStart:this.state.airdropStart,nftsA:this.state.nftsA,nftsS:this.state.nftsS,price:this.state.price,maxSale:this.state.maxSale,maxAirdrop:this.state.maxAirdrop})),React.createElement(Route,{exact:true,path:\"/airdrop\"},React.createElement(Airdrop,{web3:this.state.web3,account:this.state.account,networkId:this.state.networkdId,airdropInstance:this.state.airdropInstance,ipfs:this.state.ipfs,nfts:this.state.nfts,airdropEnd:this.state.airdropEnd,airdropStart:this.state.airdropStart,nftsA:this.state.nftsA,nftsS:this.state.nftsS,price:this.state.price,maxSale:this.state.maxSale,maxAirdrop:this.state.maxAirdrop})),React.createElement(Route,{exact:true,path:\"/mynfts\"},React.createElement(MyNFTs,{web3:this.state.web3,account:this.state.account,networkId:this.state.networkdId,airdropInstance:this.state.airdropInstance,ipfs:this.state.ipfs,nfts:this.state.nfts,airdropEnd:this.state.airdropEnd,airdropStart:this.state.airdropStart,nftsA:this.state.nftsA,nftsS:this.state.nftsS,price:this.state.price,maxSale:this.state.maxSale,maxAirdrop:this.state.maxAirdrop})))));}else{return React.createElement(\"div\",{class:\"loader\"});}}}]);return App;}(React.Component);export default App;","map":{"version":3,"sources":["/Users/israeladelaja/Desktop/NFTAirdrop/client/src/App.js"],"names":["React","Main","Airdrop","Navbar","MyNFTs","NFTAirdrop","getWeb3","BrowserRouter","Router","Switch","Route","ipfsClient","require","ipfs","host","port","protocol","App","state","web3","account","networkId","airdropInstance","nfts","airdropEnd","nftsA","nftsS","loading","componentDidMount","window","ethereum","request","method","eth","net","getId","deployedNetworkAirdrop","networks","Contract","abi","address","methods","nftsAirdrop","call","nftsSale","price","airdropStart","millisecondsEnd","dateObjectEnd","Date","millisecondsStart","dateObjectStart","toUTCString","allNfts","MAX_AIRDROP_TOKENS","maxAirdrop","MAX_SALE_TOKENS","maxSale","setState","alert","console","error","networkdId","Component"],"mappings":"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","sourcesContent":["import React from \"../node_modules/react\";\nimport \"./App.css\";\nimport \"./index.css\";\nimport Main from \"./Main\";\nimport Airdrop from \"./Airdrop\";\nimport Navbar from \"./Navbar\";\nimport MyNFTs from \"./MyNFTs\";\nimport NFTAirdrop from \"./contracts/NFTAirdrop.json\";\nimport getWeb3 from \"./getWeb3\";\nimport { BrowserRouter as Router, Switch, Route } from 'react-router-dom';\n/**\n * @App Build Decentralized Art Market using ERC-721\n * @Util initail App build main class\n * @Book Learn Ethereum\n * @author brian wu\n */\nconst ipfsClient = require('ipfs-http-client')\nconst ipfs = ipfsClient({ host: 'ipfs.infura.io', port: 5001, protocol: 'https' }) // leaving out the arguments will default to these values\n\nclass App extends React.Component {\n\n  state = { web3: null, account: \"\", networkId: null, airdropInstance: null, ipfs: null, nfts: [], airdropEnd: null, nftsA: null, nftsS: null, loading:true }\n\n  componentDidMount = async () => {\n    try {\n      // Get network provider and web3 instance.\n      const web3 = await getWeb3();\n\n      // Use web3 to get the user's accounts.\n      let account = await window.ethereum.request({ method: 'eth_accounts' });\n      account = account[0];\n\n      // Get the contract instance.\n      const networkId = await web3.eth.net.getId();\n      const deployedNetworkAirdrop = NFTAirdrop.networks[networkId];\n      const airdropInstance = new web3.eth.Contract(\n        NFTAirdrop.abi,\n        deployedNetworkAirdrop && deployedNetworkAirdrop.address,\n      );\n\n      let nftsA = await airdropInstance.methods.nftsAirdrop().call();\n      let nftsS = await airdropInstance.methods.nftsSale().call();\n      const price = await airdropInstance.methods.price().call()\n\n      let airdropEnd = await airdropInstance.methods.airdropEnd().call();\n      let airdropStart = await airdropInstance.methods.airdropStart().call();\n\n      const millisecondsEnd = airdropEnd * 1000\n\n      const dateObjectEnd = new Date(millisecondsEnd)\n\n      const millisecondsStart = airdropStart * 1000\n\n      const dateObjectStart = new Date(millisecondsStart)\n\n      airdropStart = dateObjectStart.toUTCString()\n\n      airdropEnd = dateObjectEnd.toUTCString()\n\n      let nfts = await airdropInstance.methods.allNfts().call();\n\n      let maxAirdrop = await airdropInstance.methods.MAX_AIRDROP_TOKENS().call();\n      let maxSale = await airdropInstance.methods.MAX_SALE_TOKENS().call();\n\n      this.setState({ web3, account, networkId, airdropInstance, ipfs, nfts, airdropEnd, airdropStart ,nftsA, nftsS, price, loading:false, maxAirdrop, maxSale })\n\n    } catch (error) {\n      // Catch any errors for any of the above operations.\n      alert(\n        `Please connect to the right chain.`,\n      );\n      console.error(error)\n\n    }\n  }\n\n  render() {\n    if (!this.state.loading) {\n      return (\n        <Router>\n          <Switch>\n            <div>\n              <Navbar account={this.state.account}/>\n              <Route exact path='/'>\n                  <Main web3={this.state.web3} account={this.state.account} networkId={this.state.networkdId} airdropInstance={this.state.airdropInstance} ipfs={this.state.ipfs} nfts={this.state.nfts} airdropEnd={this.state.airdropEnd} airdropStart={this.state.airdropStart} nftsA={this.state.nftsA} nftsS={this.state.nftsS} price={this.state.price} maxSale={this.state.maxSale} maxAirdrop={this.state.maxAirdrop}/>\n              </Route>\n              <Route exact path='/airdrop'>\n                  <Airdrop web3={this.state.web3} account={this.state.account} networkId={this.state.networkdId} airdropInstance={this.state.airdropInstance} ipfs={this.state.ipfs} nfts={this.state.nfts} airdropEnd={this.state.airdropEnd} airdropStart={this.state.airdropStart} nftsA={this.state.nftsA} nftsS={this.state.nftsS} price={this.state.price} maxSale={this.state.maxSale} maxAirdrop={this.state.maxAirdrop}/>\n              </Route>\n              <Route exact path='/mynfts'>\n                  <MyNFTs web3={this.state.web3} account={this.state.account} networkId={this.state.networkdId} airdropInstance={this.state.airdropInstance} ipfs={this.state.ipfs} nfts={this.state.nfts} airdropEnd={this.state.airdropEnd} airdropStart={this.state.airdropStart} nftsA={this.state.nftsA} nftsS={this.state.nftsS} price={this.state.price} maxSale={this.state.maxSale} maxAirdrop={this.state.maxAirdrop}/>\n              </Route>\n            </div>\n          </Switch>\n        </Router>\n      );      \n    } else {\n        return(<div class=\"loader\"></div>);\n    }\n\n  }\n}\nexport default App;"]},"metadata":{},"sourceType":"module"}